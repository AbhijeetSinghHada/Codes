<!DOCTYPE html>
<html>
    <head>
        <title>Complete JavaScript Course</title>
        <style></style>
    </head>
    <body>
        <div id="output">Complete JavaScript Course</div>
        <form name="myForm">
            <textarea name="txtarea" rows="4" cols="100"></textarea>
            <input type="button" onclick="lookUp()" value="get emails" />
            <textarea name="txtarea2" rows="12" cols="100"></textarea>
        </form>
        <script>
            function lookUp() {
                var rawTxt = document.myForm.txtarea.value;
                var pattern =
                    /([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi;
                var pattern2 = new RegExp(
                    /([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/
                );
                var eData = rawTxt.match(pattern);
                var html = "";
                var holder = [];
                //document.myForm.txtarea2.value = eData.toString();
                for (var x = 0; x < eData.length; x++) {
                    if (holder.indexOf(eData[x]) == -1) {
                        holder.push(eData[x]);
                    }
                }
                console.log(pattern2.exec(rawTxt));
                document.myForm.txtarea2.value = holder.join("|");
            }
        </script>
    </body>
</html>
